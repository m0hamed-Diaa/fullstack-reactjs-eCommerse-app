import{j as e,B as c,d as i,S as k,c as n,w,x as A,k as I,y as L,r as l,C as P,u as x,n as B,z as O,F as T,A as $,T as a,o as D,I as W,p as z,q as E,s as F,v as R,L as M,a as _,D as q,E as N}from"./index-CZTSyGXU.js";import{u as J}from"./useAuthenticatedQuery-daQcvI3z.js";import{B as p}from"./badge-DkrL2gRC.js";import"./axios.config-DUY_qHeS.js";const K=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{maxW:"sm",mx:"auto",mt:"20px",children:e.jsx(i,{h:"30px",bg:"gray.600",w:"60px"})}),e.jsxs(k,{maxW:"sm",mx:"auto",gap:"2",mt:"20px",borderRadius:"xl",border:"1px solid #333",p:"2",children:[e.jsx(n,{noOfLines:1,height:"200px",width:"350px",mx:"auto"}),e.jsx(n,{noOfLines:1}),e.jsx(n,{noOfLines:1,height:"70px"}),e.jsx(n,{noOfLines:1}),e.jsx(i,{asChild:!0,loading:!0,w:"fit-content",mx:"auto",children:e.jsx(p,{children:"Select"})}),e.jsx(i,{asChild:!0,loading:!0,w:"fit-content",mx:"auto",children:e.jsx(p,{children:"Select"})}),e.jsx(i,{height:"40px"})]})]}),H=()=>{const u=w(),m=A(),{colorMode:r}=I(),{documentId:d}=L(),h=()=>u(-1),[g,f]=l.useState(!1),j=P.get("userInfo"),{isOnline:S}=x(B),{isLoading:C,data:b}=J({queryKey:["product",`${d}`],url:`/products/${d}?populate=categories&populate=thumbnail&fields=title,price,description`,config:{headers:{Authorization:`Bearer ${j.jwt}`}}}),t=b?.data;l.useEffect(()=>{document.title=`${t?.title} | e-commerse app`},[t?.title]);const v=()=>{m(q(t)),N.create({description:"Product added to card",type:"success"})},{cartProducts:y}=x(O),o=y.some(s=>s.id===t?.id);return t?C||!S?e.jsx(K,{}):e.jsxs(e.Fragment,{children:[e.jsxs(c,{h:"100vh",w:"100%",children:[e.jsxs(T,{alignItems:"center",maxW:"sm",mx:"auto",my:7,fontSize:"lg",cursor:"pointer",onClick:h,children:[e.jsx($,{}),e.jsx(a,{ml:2,children:"Back"})]}),e.jsxs(D,{textAlign:"center",maxW:"sm",mx:"auto",overflow:"hidden",mt:"3",position:"relative",children:[e.jsx(W,{src:`${t.thumbnail?.url}`,alt:`${t.title.split(" ").slice(0,1).join(" ")}`,borderRadius:"xl",mx:"auto",mt:"10px",boxSize:"340px",objectFit:"cover",onError:s=>{s.currentTarget.src="../../src/assets/No Image Vector Symb.png"}}),e.jsxs(z,{gap:"2",children:[e.jsx(E,{textAlign:"center",children:t.title}),e.jsx(F,{onClick:()=>f(s=>!s),fontSize:"md",title:t.description,children:t.description?R({isOpen:g,title:t.description}):null}),e.jsx(a,{textStyle:"2xl",fontWeight:"medium",letterSpacing:"tight",mt:"2",children:t.categories[0].title}),e.jsxs(a,{textStyle:"2xl",fontWeight:"medium",letterSpacing:"tight",mt:"2",children:["Price: $",t.price]})]}),e.jsx(M,{style:{pointerEvents:o?"none":"auto"},to:`/products/${t.documentId}`,children:e.jsx(_,{bg:o?"transparent":r==="light"?"#e6f3fd":"#9f7aea",size:"xl",variant:"outline",border:o?"":"none",color:r!=="light"?"#e6f3fd":"#9f7aea",overflow:"hidden",w:"95%",_hover:{bg:r!=="light"?"#e6f3fd":"#9f7aea",color:r!=="light"?"#333":"#e6f3fd",border:"transparent"},mb:"10px",mx:"10px",textTransform:"uppercase",onClick:v,children:o?"Product in Cart":"Add to Cart"})})]})]}),e.jsx(c,{bg:"gray.800",color:"white",p:6,textAlign:"center",children:e.jsxs(c,{as:"div",display:"flex",alignItems:"center",justifyContent:"center",gap:"2",children:["Â© 2025"," ",e.jsx(a,{fontWeight:"bold",color:"orange.400",textDecoration:"underline",children:"Mohamed Diaa"})," ","Store. All rights reserved."]})})]}):e.jsx("div",{children:"Loading..."})};export{H as default};
