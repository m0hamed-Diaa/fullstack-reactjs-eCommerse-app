import{i as d,r as g,k,j as e,B as i,a1 as f,a2 as _,C as u,F as x,T as h,a3 as m,a4 as M,w as v,a5 as A,H as j,a6 as z,a7 as N,a8 as L,a9 as F,_ as B,$ as D,aa as R,ab as p,L as C,ac as W,a0 as H,ad as $,Z as w,ae as P}from"./index-CT5BJ4Bc.js";import{V as T}from"./v-stack-CS0LGQy8.js";const O=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],E=d("bell",O);const X=[["path",{d:"M11 13v4",key:"vyy2rb"}],["path",{d:"M15 5v4",key:"1gx88a"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"7",y:"13",width:"9",height:"4",rx:"1",key:"1iip1u"}],["rect",{x:"7",y:"5",width:"12",height:"4",rx:"1",key:"1anskk"}]],q=d("chart-bar-stacked",X);const U=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],V=d("chevron-down",U);const Y=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Z=d("house",Y);const G=[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]],J=d("shopping-basket",G),K=[{name:"Dashboard",icon:Z,base:"/admin/dashboard"},{name:"Products",icon:J,base:"/admin/dashboard/products"},{name:"Categories",icon:q,base:"/admin/dashboard/categories"}];function Q(){const[o,a]=g.useState(!1),{colorMode:n}=k(),r=n==="dark"?"gray.900":"gray.100",t=n==="dark"?"gray.900":"white",s=n==="dark"?"gray.700":"gray.200",l=n==="dark"?"gray.900":"white",c=()=>{a(!1)};return e.jsx(e.Fragment,{children:e.jsxs(i,{minH:"100vh",bg:r,children:[e.jsx(y,{onClose:()=>a(!1),onLinkClick:c,display:{base:"none",md:"block"},sidebarBg:t,borderColor:s}),o&&e.jsxs(e.Fragment,{children:[e.jsx(f,{children:e.jsx(i,{position:"fixed",inset:"0",bg:"blackAlpha.600",zIndex:"overlay",onClick:()=>a(!1),animation:"fadeIn 0.3s ease",css:{"@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}}}})}),e.jsx(f,{children:e.jsx(i,{position:"fixed",left:"0",top:"0",bottom:"0",w:"full",maxW:"240px",bg:t,zIndex:"modal",transform:o?"translateX(0)":"translateX(-100%)",transition:"transform 0.3s ease",children:e.jsx(y,{onClose:()=>a(!1),onLinkClick:c,sidebarBg:t,borderColor:s})})})]}),e.jsx(ae,{onOpen:()=>a(!0),navBg:l,borderColor:s}),e.jsx(i,{ml:{base:0,md:60},p:"4",children:e.jsx(_,{})})]})})}const y=({onClose:o,onLinkClick:a,display:n,sidebarBg:r,borderColor:t,...s})=>{const l=u.get("AdminInfo");return e.jsxs(i,{transition:"0.3s ease",bg:r,borderRight:"1px",borderRightColor:t,w:{base:"full",md:60},pos:"fixed",h:"full",display:n,...s,borderColor:t,borderWidth:"1px",borderStyle:"solid",children:[e.jsxs(x,{h:"20",alignItems:"center",mx:"5",justifyContent:"space-between",children:[e.jsx(h,{fontSize:"xl",fontFamily:"monospace",fontWeight:"bold",children:l.userName?l.userName.toUpperCase():e.jsx(e.Fragment,{children:"Admin"})}),e.jsx(m,{display:{base:"flex",md:"none"},onClick:o,"aria-label":"close menu",variant:"ghost",children:e.jsx(M,{size:20})})]}),K.map(c=>{const{name:b,icon:I,base:S}=c;return e.jsx(ee,{icon:I,base:S,onClick:a,children:b},b)})]})},ee=({icon:o,children:a,base:n,onClick:r})=>{const s=$().pathname===n;return e.jsx(C,{style:{textDecoration:"none"},to:`${n}`,onClick:r,children:e.jsxs(x,{align:"center",p:"4",mx:"4",borderRadius:"lg",role:"group",cursor:"pointer",bg:s?"orange.400":"transparent",color:s?"white":"inherit",_hover:{bg:"orange.400",color:"white"},mb:"2",children:[e.jsx(i,{as:o,fontSize:16,mr:"4"}),a]})})},ae=({onOpen:o,navBg:a,borderColor:n})=>{const{colorMode:r,toggleColorMode:t}=k(),s=u.get("AdminInfo"),l=v(),c=()=>{localStorage.removeItem("admin_jwt_expires_at"),u.remove("AdminInfo",{path:"/"}),w.success("You logged out, Please sign in again to access again!",{duration:6e3}),l("/admin/login",{replace:!0})};return e.jsxs(x,{ml:{base:0,md:60},px:{base:4,md:4},height:"20",alignItems:"center",bg:a,borderBottomWidth:"1px",borderBottomColor:n,justifyContent:{base:"space-between",md:"flex-end"},children:[e.jsx(m,{display:{base:"flex",md:"none"},onClick:o,variant:"outline","aria-label":"open menu",children:e.jsx(A,{size:20})}),e.jsxs(h,{display:{base:"flex",md:"none"},fontSize:"lg",fontWeight:"bold",children:[s.userName?s.userName.split(" ").slice(0,1):e.jsx(e.Fragment,{children:"Admin"})," ","Dashboard"]}),e.jsxs(j,{gap:{base:"0",md:"6"},children:[e.jsx(m,{onClick:t,variant:"ghost","aria-label":"toggle dark mode",children:r==="light"?e.jsx(z,{size:20}):e.jsx(N,{size:20})}),e.jsx(m,{size:"lg",variant:"ghost","aria-label":"notifications",children:e.jsx(E,{size:20})}),e.jsxs(L,{positioning:{placement:"bottom-end",gutter:8},children:[e.jsx(F,{asChild:!0,children:e.jsx(x,{as:"button",py:2,cursor:"pointer",_focus:{boxShadow:"none"},children:e.jsxs(j,{children:[e.jsx(B,{size:"sm",children:e.jsx(D,{children:s.userName?s.userName.charAt(0).toUpperCase():null})}),e.jsxs(T,{display:{base:"none",md:"flex"},alignItems:"flex-start",gap:"1px",ml:"2",children:[e.jsx(h,{fontSize:"sm",children:s.userName}),e.jsx(h,{fontSize:"xs",color:"gray.600",children:"Admin"})]}),e.jsx(i,{display:{base:"none",md:"flex"},children:e.jsx(V,{size:16})})]})})}),e.jsxs(R,{bg:a,borderColor:n,position:"absolute",top:"80px",right:"20px",children:[e.jsx(p,{value:"profile",cursor:"pointer",children:e.jsx(C,{to:"/admin/dashboard/profile",children:"Profile"})}),e.jsx(p,{value:"settings",cursor:"pointer",children:"Settings"}),e.jsx(p,{value:"billing",cursor:"pointer",children:"Billing"}),e.jsx(W,{}),e.jsx(H,{onClick:c,value:"Sign out",title:"Are you sure to sign out from admin page",description:"If you sign out from admin page, you will enter your email and password to access!"})]})]})]})]})},ne=()=>{const o=v(),a=g.useRef(null);return g.useEffect(()=>(a.current=window.setInterval(()=>{const n=localStorage.getItem("admin_jwt_expires_at");if(!n)return;Number(n)-Date.now()<=0&&(a.current&&clearInterval(a.current),localStorage.removeItem("admin_jwt_expires_at"),u.remove("AdminInfo",{path:"/"}),w.success("For security reasons, you have been logged out. Please sign in again.",{duration:6e3}),o("/admin/login",{replace:!0}))},6e3),()=>{a.current&&clearInterval(a.current)}),[o]),null};function te(){return e.jsxs(e.Fragment,{children:[e.jsx(ne,{}),e.jsx(Q,{}),e.jsx(P,{})]})}export{te as default};
