import{k as y,w as b,r as S,j as e,B as m,a as v,T as C,L as P,Z as u}from"./index-CT5BJ4Bc.js";import{u as R,o as k,r as E}from"./yup-CeZlQl2K.js";import{a as F}from"./axios.config-DUY_qHeS.js";import{H as L}from"./index-KrhtSomb.js";import{I as a}from"./input-sO2ygFRY.js";import{F as o,a as t,b as i}from"./field-CgeDpEYm.js";const U=()=>{const{colorMode:d}=y(),p=b(),[x,c]=S.useState(!1),{register:r,handleSubmit:g,formState:{errors:s}}=R({resolver:k(E)}),h=async j=>{c(!0);try{const{username:n,email:l,password:f}=j,{status:w}=await F.post("/auth/local/register",{username:n,email:l,password:f});w===200&&(u.success("Register successfully!",{duration:1500}),setTimeout(()=>{p("/login",{replace:!0})},1500))}catch(n){const l=n;u.error(`${l.response?.data.error.message||"Failed register"}`,{duration:1500})}finally{c(!1)}};return e.jsxs(m,{maxW:"md",mx:"auto",w:"95%",bg:d==="dark"?"gray.900":"gray.100",color:d==="dark"?"white":"black",my:"200px",p:"40px",style:{borderTopRightRadius:"80px",borderBottomLeftRadius:"80px"},children:[e.jsx(L,{textAlign:"center",mb:3,children:"Sign up to Accsses!"}),e.jsxs(m,{as:"form",onSubmit:g(h),children:[e.jsxs(o,{invalid:!!s.username,children:[e.jsx(t,{children:"Username"}),e.jsx(a,{placeholder:"Enter Username",type:"text",autoComplete:"current-username",...r("username")}),e.jsx(i,{children:s.username?.message})]}),e.jsxs(o,{invalid:!!s.email,children:[e.jsx(t,{children:"Email"}),e.jsx(a,{placeholder:"Enter email",type:"email",autoComplete:"current-email",...r("email")}),e.jsx(i,{children:s.email?.message})]}),e.jsxs(o,{invalid:!!s.password,children:[e.jsx(t,{children:"Password"}),e.jsx(a,{type:"password",placeholder:"Password",autoComplete:"current-password",...r("password")}),e.jsx(i,{children:s.password?.message})]}),e.jsxs(o,{invalid:!!s.confirmPassword,children:[e.jsx(t,{children:"Confirmed Password"}),e.jsx(a,{type:"password",placeholder:"Confirmed Password",autoComplete:"current-password",...r("confirmPassword")}),e.jsx(i,{children:s.confirmPassword?.message})]}),e.jsx(v,{type:"submit",mt:3,width:"100%",loading:x,loadingText:"register in...",style:{backgroundColor:"orange",color:"white"},children:"Sign up"})]}),e.jsxs(C,{mt:"8px",textAlign:"center",children:["have a account?"," ",e.jsx(P,{to:"/login",style:{color:"orange",fontWeight:"bold",textDecoration:"underline"},children:"Sign in"})," "]})]})};export{U as default};
