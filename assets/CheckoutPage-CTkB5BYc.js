import{j as e,B as i,d as s,o as b,ax as F,p as T,b as E,F as j,ay as N,u as I,z as A,n as $,r as w,a as x,L as H,q as Y,T as n,I as _,az as L,aA as G,aB as J,a1 as K,aC as M,aD as Z,aE as Q,aF as U,aG as V,aH as X,aI as ee,E as S,aJ as v,aK as se}from"./index-CT5BJ4Bc.js";import{I as h}from"./input-sO2ygFRY.js";import{F as c,a as p}from"./field-CgeDpEYm.js";const te=()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{maxW:"sm",mt:"20px",mx:6,children:e.jsx(s,{h:"30px",bg:"gray.600",w:"60px"})}),e.jsxs(i,{display:{md:"grid"},gridTemplateColumns:{md:"1fr 1fr"},gap:"4",spaceY:{base:"4",md:"0"},maxW:"1200px",mx:"auto",px:{base:4,md:6},py:10,children:[e.jsxs(b,{children:[e.jsx(F,{children:e.jsx(s,{height:"28px",width:"200px"})}),e.jsxs(T,{gap:4,children:[e.jsxs(i,{children:[e.jsx(s,{height:"16px",width:"80px",mb:2}),e.jsx(s,{height:"40px",width:"100%"})]}),e.jsxs(i,{children:[e.jsx(s,{height:"16px",width:"60px",mb:2}),e.jsx(s,{height:"40px",width:"100%"})]}),e.jsxs(i,{children:[e.jsx(s,{height:"16px",width:"110px",mb:2}),e.jsx(s,{height:"40px",width:"100%"})]}),e.jsxs(i,{children:[e.jsx(s,{height:"16px",width:"70px",mb:2}),e.jsx(s,{height:"40px",width:"100%"})]}),e.jsxs(i,{display:"grid",gridTemplateColumns:"1fr 1fr",gap:4,children:[e.jsxs(i,{children:[e.jsx(s,{height:"16px",width:"50px",mb:2}),e.jsx(s,{height:"40px",width:"100%"})]}),e.jsxs(i,{children:[e.jsx(s,{height:"16px",width:"70px",mb:2}),e.jsx(s,{height:"40px",width:"100%"})]})]})]})]}),e.jsxs(b,{children:[e.jsx(i,{m:2,children:e.jsx(s,{height:"24px",width:"220px"})}),e.jsx(i,{px:2,py:3,children:[1,2,3].map(m=>e.jsxs(i,{mb:3,pb:3,borderBottom:"1px solid #eee",children:[e.jsxs(i,{display:"flex",alignItems:"center",gap:3,children:[e.jsx(E,{size:"70px"}),e.jsxs(i,{flex:"1",children:[e.jsx(s,{height:"18px",width:"150px",mb:2}),e.jsx(s,{height:"14px",width:"200px",mb:2}),e.jsx(s,{height:"20px",width:"80px"})]})]}),e.jsxs(i,{display:"flex",mt:3,justifyContent:"center",alignItems:"center",gap:3,children:[e.jsx(s,{width:"28px",height:"28px",borderRadius:"md"}),e.jsx(s,{height:"20px",width:"30px"}),e.jsx(s,{width:"28px",height:"28px",borderRadius:"md"})]})]},m))}),e.jsxs(i,{borderTop:"2px solid #eee",pt:3,px:3,children:[e.jsxs(j,{justifyContent:"space-between",mb:2,children:[e.jsx(s,{height:"20px",width:"80px"}),e.jsx(s,{height:"20px",width:"60px"})]}),e.jsxs(j,{justifyContent:"space-between",mb:2,children:[e.jsx(s,{height:"20px",width:"100px"}),e.jsx(s,{height:"20px",width:"50px"})]}),e.jsxs(j,{justifyContent:"space-between",mb:4,pt:2,borderTop:"1px solid #eee",children:[e.jsx(s,{height:"24px",width:"100px"}),e.jsx(s,{height:"28px",width:"80px"})]}),e.jsx(s,{height:"40px",width:"100%",borderRadius:"md"})]})]})]})]}),oe=()=>{const m=N(),{cartProducts:o}=I(A),{isOnline:W}=I($),[f,z]=w.useState(null),[k,u]=w.useState(!1),[a,q]=w.useState({fullName:"",email:"",phone:"",address:"",city:"",zipCode:""}),l=t=>{const{name:r,value:g}=t.target;q(d=>({...d,[r]:g}))},P=t=>{const r=se(t,o);m(v(r))},R=t=>{const r=o.find(g=>g.id===t.id);if(r&&r.quantity===1)z(t),u(!0);else{const g=o.map(d=>d.id===t.id?{...d,quantity:d.quantity-1}:d);m(v(g)),S.create({description:"Product quantity decreased",type:"error"})}},B=()=>{if(f){const t=o.filter(r=>r.id!==f.id);S.create({description:"Product removed from cart",type:"error"}),m(v(t))}u(!1),z(null)},y=20,C=o.reduce((t,r)=>t+r.price*r.quantity,0),D=C+y,O=t=>{t.preventDefault(),console.log("Order submitted:",{customerInfo:a,products:o,deliveryCost:y,subtotal:C,totalPrice:D}),S.create({description:"Order sent successfully!",type:"success"})};return W?e.jsxs(e.Fragment,{children:[e.jsx(x,{maxW:"sm",mx:6,mt:"20px",bg:"orange.400",children:e.jsx(H,{to:"/products",children:"Go to Products"})}),e.jsx("form",{onSubmit:O,children:e.jsxs(i,{display:{md:"grid"},gridTemplateColumns:{md:"1fr 1fr"},gap:"4",spaceY:{base:"4",md:"0"},maxW:"1200px",mx:"auto",px:{base:4,md:6},py:10,children:[e.jsxs(b,{children:[e.jsx(F,{children:e.jsx(Y,{fontSize:"xl",children:"Customer Information"})}),e.jsxs(T,{gap:4,children:[e.jsxs(c,{children:[e.jsx(p,{children:"Full Name *"}),e.jsx(h,{name:"fullName",value:a.fullName,onChange:l,placeholder:"Enter your full name",required:!0})]}),e.jsxs(c,{children:[e.jsx(p,{children:"Email *"}),e.jsx(h,{type:"email",name:"email",value:a.email,onChange:l,placeholder:"example@email.com",required:!0})]}),e.jsxs(c,{children:[e.jsx(p,{children:"Phone Number *"}),e.jsx(h,{type:"tel",name:"phone",value:a.phone,onChange:l,placeholder:"+20 123 456 7890",required:!0})]}),e.jsxs(c,{children:[e.jsx(p,{children:"Address *"}),e.jsx(h,{name:"address",value:a.address,onChange:l,placeholder:"Street address",required:!0})]}),e.jsxs(i,{display:"grid",gridTemplateColumns:"1fr 1fr",gap:4,children:[e.jsxs(c,{children:[e.jsx(p,{children:"City *"}),e.jsx(h,{name:"city",value:a.city,onChange:l,placeholder:"City",required:!0})]}),e.jsxs(c,{children:[e.jsx(p,{children:"Zip Code *"}),e.jsx(h,{name:"zipCode",value:a.zipCode,onChange:l,placeholder:"12345",required:!0})]})]})]})]}),e.jsxs(b,{children:[e.jsxs(n,{m:2,fontSize:"lg",fontWeight:"semibold",children:["Your Shopping Cart"," ",e.jsxs(n,{fontWeight:"bold",display:"inline-block",color:"orange.400",children:["(",o.length,")"]})]}),e.jsx(i,{maxH:"450px",overflowY:"auto",px:2,children:o.length?o.map((t,r)=>e.jsxs(i,{mb:3,pb:3,borderBottom:"1px solid #eee",children:[e.jsxs(i,{display:"flex",alignItems:"center",gap:3,children:[e.jsx(_,{src:`${t.thumbnail?.formats?.small?.url}`,alt:t.title.split(" ").slice(0,1).join(" "),borderRadius:"full",boxSize:"70px",objectFit:"cover",border:"1px solid gold"}),e.jsxs(i,{flex:"1",children:[e.jsx(n,{fontWeight:"semibold",fontSize:"sm",mb:1,children:t.title}),e.jsx(n,{fontSize:"xs",color:"gray.500",mb:1,children:t.description}),e.jsxs(n,{fontSize:"md",fontWeight:"bold",color:"orange.400",children:["$",(t.price*t.quantity).toFixed(2)]})]})]}),e.jsxs(i,{display:"flex",mt:2,justifyContent:"center",alignItems:"center",gap:3,children:[e.jsx(x,{onClick:()=>R(t),bg:"orange.400",size:"xs",w:"28px",h:"28px",_hover:{bg:"orange.500"},children:e.jsx(L,{size:16})}),e.jsx(n,{fontWeight:"semibold",minW:"30px",textAlign:"center",children:t.quantity}),e.jsx(x,{onClick:()=>P(t),bg:"orange.400",size:"xs",w:"28px",h:"28px",_hover:{bg:"orange.500"},children:e.jsx(G,{size:16})})]})]},r)):e.jsx(n,{w:"100%",h:"400px",color:"red",fontWeight:"bold",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",children:"No Shopping yet!"})}),o.length>0&&e.jsxs(i,{borderTop:"2px solid #eee",pt:3,px:3,children:[e.jsxs(j,{justifyContent:"space-between",mb:2,children:[e.jsx(n,{fontSize:"16px",children:"Subtotal:"}),e.jsxs(n,{fontWeight:"semibold",children:["$",C.toFixed(2)]})]}),e.jsxs(j,{justifyContent:"space-between",mb:2,children:[e.jsx(n,{fontSize:"16px",children:"Delivery Cost:"}),e.jsxs(n,{fontWeight:"semibold",color:"orange.400",children:["$",y.toFixed(2)]})]}),e.jsxs(j,{justifyContent:"space-between",mb:4,pt:2,borderTop:"1px solid #eee",children:[e.jsx(n,{fontSize:"18px",fontWeight:"bold",children:"Total Price:"}),e.jsxs(n,{fontSize:"20px",fontWeight:"bold",color:"orange.400",children:["$",D.toFixed(2)]})]}),e.jsx(x,{type:"submit",bg:"orange.400",w:"100%",_hover:{bg:"orange.500"},disabled:!o.length,children:"Send Order"})]})]})]})}),e.jsx(J,{open:k,onOpenChange:t=>u(t.open),children:e.jsxs(K,{children:[e.jsx(M,{style:{zIndex:9999999,backgroundColor:"rgba(0, 0, 0, 0.6)"}}),e.jsxs(Z,{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:99999999,maxWidth:"400px",width:"90%"},children:[e.jsx(Q,{children:e.jsx(U,{children:"Remove Product?"})}),e.jsx(V,{children:e.jsxs(n,{children:["Are you sure you want to remove"," ",e.jsx("strong",{style:{color:"orange",borderBottom:"2px solid orange"},children:f?.title})," ","from your cart?"]})}),e.jsxs(X,{gap:2,children:[e.jsx(x,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),e.jsx(x,{bg:"red.500",color:"white",_hover:{bg:"red.600"},onClick:B,children:"Remove"})]}),e.jsx(ee,{})]})]})})]}):e.jsx(te,{})};export{oe as default};
